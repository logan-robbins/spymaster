{
  "experiment_name": "knn_cluster_regime",
  "agent_name": "knn_cl",
  "dataset_id": "mnqh6_20260206_0925_1025",
  "params": {
    "model": "KNeighborsClassifier",
    "k_values": [
      5,
      11,
      21,
      31
    ],
    "weights": "distance",
    "metric": "euclidean",
    "n_features": 35,
    "min_train": 1800,
    "restandardize_interval": 300,
    "cooldown_bins": 30
  },
  "results_by_threshold": [
    {
      "n_signals": 1140,
      "n_up": 582,
      "n_down": 558,
      "tp_rate": 0.4070175438596491,
      "sl_rate": 0.5929824561403508,
      "timeout_rate": 0.0,
      "events_per_hour": 1140.0633368520473,
      "median_time_to_outcome_ms": 300.0,
      "mean_pnl_ticks": 0.4442982456140351,
      "threshold": "k=5_margin=0.0",
      "cooldown_bins": 30
    },
    {
      "n_signals": 1140,
      "n_up": 583,
      "n_down": 557,
      "tp_rate": 0.39649122807017545,
      "sl_rate": 0.6035087719298246,
      "timeout_rate": 0.0,
      "events_per_hour": 1140.0633368520473,
      "median_time_to_outcome_ms": 300.0,
      "mean_pnl_ticks": 0.24868421052631579,
      "threshold": "k=5_margin=0.1",
      "cooldown_bins": 30
    },
    {
      "n_signals": 1128,
      "n_up": 571,
      "n_down": 557,
      "tp_rate": 0.39095744680851063,
      "sl_rate": 0.6081560283687943,
      "timeout_rate": 0.0008865248226950354,
      "events_per_hour": 1128.0626701483416,
      "median_time_to_outcome_ms": 300.0,
      "mean_pnl_ticks": 0.1502659574468085,
      "threshold": "k=5_margin=0.2",
      "cooldown_bins": 30
    },
    {
      "n_signals": 1098,
      "n_up": 545,
      "n_down": 553,
      "tp_rate": 0.3861566484517304,
      "sl_rate": 0.6129326047358834,
      "timeout_rate": 0.0009107468123861566,
      "events_per_hour": 1098.0610033890773,
      "median_time_to_outcome_ms": 300.0,
      "mean_pnl_ticks": 0.0924408014571949,
      "threshold": "k=5_margin=0.3",
      "cooldown_bins": 30
    },
    {
      "n_signals": 1140,
      "n_up": 566,
      "n_down": 574,
      "tp_rate": 0.4114035087719298,
      "sl_rate": 0.5885964912280702,
      "timeout_rate": 0.0,
      "events_per_hour": 1140.0633368520473,
      "median_time_to_outcome_ms": 300.0,
      "mean_pnl_ticks": 0.4245614035087719,
      "threshold": "k=11_margin=0.0",
      "cooldown_bins": 30
    },
    {
      "n_signals": 1128,
      "n_up": 554,
      "n_down": 574,
      "tp_rate": 0.36613475177304966,
      "sl_rate": 0.6329787234042553,
      "timeout_rate": 0.0008865248226950354,
      "events_per_hour": 1128.0626701483416,
      "median_time_to_outcome_ms": 300.0,
      "mean_pnl_ticks": -0.23581560283687944,
      "threshold": "k=11_margin=0.1",
      "cooldown_bins": 30
    },
    {
      "n_signals": 1118,
      "n_up": 539,
      "n_down": 579,
      "tp_rate": 0.38998211091234347,
      "sl_rate": 0.6100178890876565,
      "timeout_rate": 0.0,
      "events_per_hour": 1118.0621145619202,
      "median_time_to_outcome_ms": 300.0,
      "mean_pnl_ticks": 0.31976744186046513,
      "threshold": "k=11_margin=0.2",
      "cooldown_bins": 30
    },
    {
      "n_signals": 1078,
      "n_up": 506,
      "n_down": 572,
      "tp_rate": 0.3673469387755102,
      "sl_rate": 0.6326530612244898,
      "timeout_rate": 0.0,
      "events_per_hour": 1078.0598922162342,
      "median_time_to_outcome_ms": 300.0,
      "mean_pnl_ticks": -0.13126159554730985,
      "threshold": "k=11_margin=0.3",
      "cooldown_bins": 30
    },
    {
      "n_signals": 1140,
      "n_up": 569,
      "n_down": 571,
      "tp_rate": 0.4,
      "sl_rate": 0.6,
      "timeout_rate": 0.0,
      "events_per_hour": 1140.0633368520473,
      "median_time_to_outcome_ms": 300.0,
      "mean_pnl_ticks": 0.36578947368421055,
      "threshold": "k=21_margin=0.0",
      "cooldown_bins": 30
    },
    {
      "n_signals": 1127,
      "n_up": 547,
      "n_down": 580,
      "tp_rate": 0.37888198757763975,
      "sl_rate": 0.6211180124223602,
      "timeout_rate": 0.0,
      "events_per_hour": 1127.0626145896995,
      "median_time_to_outcome_ms": 300.0,
      "mean_pnl_ticks": -0.15483584738243122,
      "threshold": "k=21_margin=0.1",
      "cooldown_bins": 30
    },
    {
      "n_signals": 1102,
      "n_up": 529,
      "n_down": 573,
      "tp_rate": 0.3793103448275862,
      "sl_rate": 0.6206896551724138,
      "timeout_rate": 0.0,
      "events_per_hour": 1102.061225623646,
      "median_time_to_outcome_ms": 300.0,
      "mean_pnl_ticks": 0.05263157894736842,
      "threshold": "k=21_margin=0.2",
      "cooldown_bins": 30
    },
    {
      "n_signals": 1056,
      "n_up": 503,
      "n_down": 553,
      "tp_rate": 0.3740530303030303,
      "sl_rate": 0.6259469696969697,
      "timeout_rate": 0.0,
      "events_per_hour": 1056.058669926107,
      "median_time_to_outcome_ms": 300.0,
      "mean_pnl_ticks": -0.18276515151515152,
      "threshold": "k=21_margin=0.3",
      "cooldown_bins": 30
    },
    {
      "n_signals": 1140,
      "n_up": 545,
      "n_down": 595,
      "tp_rate": 0.39824561403508774,
      "sl_rate": 0.6017543859649123,
      "timeout_rate": 0.0,
      "events_per_hour": 1140.0633368520473,
      "median_time_to_outcome_ms": 300.0,
      "mean_pnl_ticks": 0.26403508771929823,
      "threshold": "k=31_margin=0.0",
      "cooldown_bins": 30
    },
    {
      "n_signals": 1122,
      "n_up": 543,
      "n_down": 579,
      "tp_rate": 0.37433155080213903,
      "sl_rate": 0.6256684491978609,
      "timeout_rate": 0.0,
      "events_per_hour": 1122.0623367964888,
      "median_time_to_outcome_ms": 300.0,
      "mean_pnl_ticks": -0.3137254901960784,
      "threshold": "k=31_margin=0.1",
      "cooldown_bins": 30
    },
    {
      "n_signals": 1089,
      "n_up": 532,
      "n_down": 557,
      "tp_rate": 0.38292011019283745,
      "sl_rate": 0.6170798898071626,
      "timeout_rate": 0.0,
      "events_per_hour": 1089.0605033612978,
      "median_time_to_outcome_ms": 300.0,
      "mean_pnl_ticks": 0.006427915518824609,
      "threshold": "k=31_margin=0.2",
      "cooldown_bins": 30
    },
    {
      "n_signals": 1002,
      "n_up": 453,
      "n_down": 549,
      "tp_rate": 0.3812375249500998,
      "sl_rate": 0.6187624750499002,
      "timeout_rate": 0.0,
      "events_per_hour": 1002.0556697594311,
      "median_time_to_outcome_ms": 300.0,
      "mean_pnl_ticks": -0.046906187624750496,
      "threshold": "k=31_margin=0.3",
      "cooldown_bins": 30
    }
  ],
  "best_threshold": "k=11_margin=0.0",
  "best_tp_rate": 0.4114035087719298,
  "best_n_signals": 1140,
  "best_mean_pnl_ticks": 0.4245614035087719,
  "best_events_per_hour": 1140.0633368520473
}