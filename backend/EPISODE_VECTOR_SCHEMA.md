# Episode Vector Schema (v4.5.0)

**Path**: `gold/episodes/es_level_episodes/vectors/date=YYYY-MM-DD/episodes.npy`

**Purpose**: 197-dimensional "source of truth" vectors for similarity retrieval and ML training. Vectors are compressed to 32D (Geometry Only) for FAISS storage per Phase 4 calibration.

**Generated By**: `silver_to_gold` pipeline, Stage 2 (ConstructEpisodes)

**Data Flow**:
1. **Bronze → Silver**: `bronze_to_silver` pipeline (stages 0-16) produces Silver features
2. **Silver → Gold**: `silver_to_gold` pipeline (stages 0-2) produces episode vectors

**Notation in tables**:
- `B2S.N` = `bronze_to_silver` pipeline, stage N
- `S2G.N` = `silver_to_gold` pipeline, stage N

---

## Section A: Context & Regime (73 dimensions)

**Purpose**: "Where are we?" - Market regime, level structure, gamma exposure, cross-level dynamics  
**Pipeline**: `bronze_to_silver` (stages 1-15)  
**Layer**: Silver features → copied to Gold episode vectors

| Index | Feature | Pipeline.Stage | Description |
|-------|---------|-------|-------------|
| 0 | minutes_since_open | B2S.14 | Minutes elapsed since RTH open (09:30 ET) |
| 1 | bars_since_open | B2S.14 | 1-minute bars since RTH open |
| 2 | atr | B2S.1 | Average True Range (volatility measure) |
| 3 | or_active | B2S.14 | Open Range active flag (1 if >= 15 min since open) |
| 4 | level_stacking_2pt | B2S.11 | Count of nearby levels within 2 points |
| 5 | level_stacking_5pt | B2S.11 | Count of nearby levels within 5 points |
| 6 | level_stacking_10pt | B2S.11 | Count of nearby levels within 10 points |
| 7 | dist_to_pm_high_atr | B2S.11 | Distance to Premarket High (ATR-normalized) |
| 8 | dist_to_pm_low_atr | B2S.11 | Distance to Premarket Low (ATR-normalized) |
| 9 | dist_to_or_high_atr | B2S.11 | Distance to Open Range High (ATR-normalized) |
| 10 | dist_to_or_low_atr | B2S.11 | Distance to Open Range Low (ATR-normalized) |
| 11 | dist_to_sma_90_atr | B2S.11 | Distance to SMA(90) (ATR-normalized) |
| 12 | dist_to_ema_20_atr | B2S.11 | Distance to EMA(20) (ATR-normalized) |
| 13 | attempt_index | B2S.14 | Touch attempt within current cluster |
| 14 | gamma_exposure | B2S.7 | Net dealer gamma exposure near level |
| 15 | fuel_effect_encoded | B2S.7 | Gamma fuel effect: AMPLIFY=-1, NEUTRAL=0, DAMPEN=1 |
| 16 | gex_ratio | B2S.12 | GEX above/below ratio (max strike band) |
| 17 | gex_asymmetry | B2S.12 | GEX above minus below (max strike band) |
| 18 | net_gex_2strike | B2S.12 | Net GEX within ±2 strikes |
| 19 | gex_above_1strike | B2S.12 | Dealer GEX above level (+1 strike band) |
| 20 | gex_below_1strike | B2S.12 | Dealer GEX below level (-1 strike band) |
| 21 | call_gex_above_2strike | B2S.12 | Call dealer GEX above level (+2 strike band) |
| 22 | put_gex_below_2strike | B2S.12 | Put dealer GEX below level (-2 strike band) |
| 23 | pm_high_touches_from_above | B2S.15 | PM_HIGH: touches from above (OHLC intersects TOUCH_BAND) |
| 24 | pm_high_touches_from_below | B2S.15 | PM_HIGH: touches from below (OHLC intersects TOUCH_BAND) |
| 25 | pm_high_defended_touches_from_above | B2S.15 | PM_HIGH: defended touches from above (touched but not BREAK) |
| 26 | pm_high_defended_touches_from_below | B2S.15 | PM_HIGH: defended touches from below (touched but not BREAK) |
| 27 | pm_high_time_since_touch_from_above_sec | B2S.15 | PM_HIGH: seconds since last touch from above |
| 28 | pm_high_time_since_touch_from_below_sec | B2S.15 | PM_HIGH: seconds since last touch from below |
| 29 | pm_low_touches_from_above | B2S.15 | PM_LOW: touches from above (OHLC intersects TOUCH_BAND) |
| 30 | pm_low_touches_from_below | B2S.15 | PM_LOW: touches from below (OHLC intersects TOUCH_BAND) |
| 31 | pm_low_defended_touches_from_above | B2S.15 | PM_LOW: defended touches from above (touched but not BREAK) |
| 32 | pm_low_defended_touches_from_below | B2S.15 | PM_LOW: defended touches from below (touched but not BREAK) |
| 33 | pm_low_time_since_touch_from_above_sec | B2S.15 | PM_LOW: seconds since last touch from above |
| 34 | pm_low_time_since_touch_from_below_sec | B2S.15 | PM_LOW: seconds since last touch from below |
| 35 | or_high_touches_from_above | B2S.15 | OR_HIGH: touches from above (OHLC intersects TOUCH_BAND) |
| 36 | or_high_touches_from_below | B2S.15 | OR_HIGH: touches from below (OHLC intersects TOUCH_BAND) |
| 37 | or_high_defended_touches_from_above | B2S.15 | OR_HIGH: defended touches from above (touched but not BREAK) |
| 38 | or_high_defended_touches_from_below | B2S.15 | OR_HIGH: defended touches from below (touched but not BREAK) |
| 39 | or_high_time_since_touch_from_above_sec | B2S.15 | OR_HIGH: seconds since last touch from above |
| 40 | or_high_time_since_touch_from_below_sec | B2S.15 | OR_HIGH: seconds since last touch from below |
| 41 | or_low_touches_from_above | B2S.15 | OR_LOW: touches from above (OHLC intersects TOUCH_BAND) |
| 42 | or_low_touches_from_below | B2S.15 | OR_LOW: touches from below (OHLC intersects TOUCH_BAND) |
| 43 | or_low_defended_touches_from_above | B2S.15 | OR_LOW: defended touches from above (touched but not BREAK) |
| 44 | or_low_defended_touches_from_below | B2S.15 | OR_LOW: defended touches from below (touched but not BREAK) |
| 45 | or_low_time_since_touch_from_above_sec | B2S.15 | OR_LOW: seconds since last touch from above |
| 46 | or_low_time_since_touch_from_below_sec | B2S.15 | OR_LOW: seconds since last touch from below |
| 47 | sma_90_touches_from_above | B2S.15 | SMA_90: touches from above (OHLC intersects TOUCH_BAND) |
| 48 | sma_90_touches_from_below | B2S.15 | SMA_90: touches from below (OHLC intersects TOUCH_BAND) |
| 49 | sma_90_defended_touches_from_above | B2S.15 | SMA_90: defended touches from above (touched but not BREAK) |
| 50 | sma_90_defended_touches_from_below | B2S.15 | SMA_90: defended touches from below (touched but not BREAK) |
| 51 | sma_90_time_since_touch_from_above_sec | B2S.15 | SMA_90: seconds since last touch from above |
| 52 | sma_90_time_since_touch_from_below_sec | B2S.15 | SMA_90: seconds since last touch from below |
| 53 | ema_20_touches_from_above | B2S.15 | EMA_20: touches from above (OHLC intersects TOUCH_BAND) |
| 54 | ema_20_touches_from_below | B2S.15 | EMA_20: touches from below (OHLC intersects TOUCH_BAND) |
| 55 | ema_20_defended_touches_from_above | B2S.15 | EMA_20: defended touches from above (touched but not BREAK) |
| 56 | ema_20_defended_touches_from_below | B2S.15 | EMA_20: defended touches from below (touched but not BREAK) |
| 57 | ema_20_time_since_touch_from_above_sec | B2S.15 | EMA_20: seconds since last touch from above |
| 58 | ema_20_time_since_touch_from_below_sec | B2S.15 | EMA_20: seconds since last touch from below |

**Per-Level Context (48 features)**: Captures simultaneous multi-level dynamics. Touch detection uses OHLC range intersection with TOUCH_BAND (±2 points). Defended touches = level held (touched but did NOT break). Critical for similarity retrieval to match cross-level patterns like "PM_HIGH tested 3x while OR_LOW defended 5x."

**Touch Detection**: A bar "touches" a level when its OHLC range intersects TOUCH_BAND:  
`bar_low <= level_price + TOUCH_BAND AND bar_high >= level_price - TOUCH_BAND`

---

## Section B: Multi-Scale Dynamics (40 dimensions)

**Purpose**: "How fast are we moving?" - Multi-window kinematics (1,2,3,5,10,20min) validated via 10s high-res bars  
**Pipeline**: `bronze_to_silver` (stages 8-14)  
**Layer**: Silver features → copied to Gold episode vectors

| Index | Feature | Pipeline.Stage | Description |
|-------|---------|-------|-------------|
| 59 | velocity_1min | B2S.8 | Level-frame velocity over 1min window |
| 60 | velocity_2min | B2S.8 | Level-frame velocity over 2min window |
| 61 | velocity_3min | B2S.8 | Level-frame velocity over 3min window |
| 62 | velocity_5min | B2S.8 | Level-frame velocity over 5min window |
| 63 | velocity_10min | B2S.8 | Level-frame velocity over 10min window |
| 64 | velocity_20min | B2S.8 | Level-frame velocity over 20min window |
| 65 | acceleration_1min | B2S.8 | Level-frame acceleration over 1min window |
| 66 | acceleration_2min | B2S.8 | Level-frame acceleration over 2min window |
| 67 | acceleration_3min | B2S.8 | Level-frame acceleration over 3min window |
| 68 | acceleration_5min | B2S.8 | Level-frame acceleration over 5min window |
| 69 | acceleration_10min | B2S.8 | Level-frame acceleration over 10min window |
| 70 | acceleration_20min | B2S.8 | Level-frame acceleration over 20min window |
| 71 | jerk_1min | B2S.8 | Level-frame jerk over 1min window |
| 72 | jerk_2min | B2S.8 | Level-frame jerk over 2min window |
| 73 | jerk_3min | B2S.8 | Level-frame jerk over 3min window |
| 74 | jerk_5min | B2S.8 | Level-frame jerk over 5min window |
| 75 | vacuum_duration_ms | B2S.10 | Duration (ms) liquidity < threshold (Vacuum) |
| 76 | replenishment_latency_ms | B2S.10 | Time (ms) to refill after trade |
| 77 | momentum_trend_1min | B2S.8 | Momentum trend proxy over 1min window |
| 78 | momentum_trend_2min | B2S.8 | Momentum trend proxy over 2min window |
| 79 | momentum_trend_3min | B2S.8 | Momentum trend proxy over 3min window |
| 80 | momentum_trend_5min | B2S.8 | Momentum trend proxy over 5min window |
| 81 | momentum_trend_10min | B2S.8 | Momentum trend proxy over 10min window |
| 82 | momentum_trend_20min | B2S.8 | Momentum trend proxy over 20min window |
| 83 | ofi_30s | B2S.9 | Integrated Order Flow Imbalance over 30s window |
| 84 | ofi_60s | B2S.9 | Integrated Order Flow Imbalance over 60s window |
| 85 | ofi_120s | B2S.9 | Integrated Order Flow Imbalance over 120s window |
| 86 | ofi_300s | B2S.9 | Integrated Order Flow Imbalance over 300s window |
| 87 | ofi_near_level_30s | B2S.9 | Mean OFI near level over 30s window |
| 88 | ofi_near_level_60s | B2S.9 | Mean OFI near level over 60s window |
| 89 | ofi_near_level_120s | B2S.9 | Mean OFI near level over 120s window |
| 90 | ofi_near_level_300s | B2S.9 | Mean OFI near level over 300s window |
| 91 | ofi_acceleration | B2S.9 | OFI acceleration (30s vs 120s ratio) |
| 92 | barrier_delta_1min | B2S.10 | Barrier depth change over 1min window |
| 93 | barrier_delta_2min | B2S.10 | Barrier depth change over 2min window |
| 94 | barrier_delta_3min | B2S.10 | Barrier depth change over 3min window |
| 95 | barrier_delta_5min | B2S.10 | Barrier depth change over 5min window |
| 96 | approach_velocity | B2S.14 | Approach velocity toward level |
| 97 | approach_bars | B2S.14 | Consecutive bars approaching level |
| 98 | approach_distance_atr | B2S.14 | Approach distance (ATR-normalized) |

---

## Section C: Micro-History (35 dimensions)

**Purpose**: "What just happened?" - Last 5 bars at 30s cadence (2.5 min history)  
**Pipeline**: `silver_to_gold` (stage 2: ConstructEpisodes)  
**Layer**: Gold only - constructed from state table lookback  
**Note**: These features DO NOT exist in Silver - they are derived during episode construction

| Index | Feature | Pipeline.Stage | Description |
|-------|---------|-------|-------------|
| 99 | d_atr_t0 | S2G.2 | Distance to level (ATR) at T-0 (anchor) |
| 100 | d_atr_t1 | S2G.2 | Distance to level (ATR) at T-1 (30s ago) |
| 101 | d_atr_t2 | S2G.2 | Distance to level (ATR) at T-2 (60s ago) |
| 102 | d_atr_t3 | S2G.2 | Distance to level (ATR) at T-3 (90s ago) |
| 103 | d_atr_t4 | S2G.2 | Distance to level (ATR) at T-4 (120s ago) |
| 104 | tape_imbalance_t0 | S2G.2 | Tape buy-sell imbalance at T-0 |
| 105 | tape_imbalance_t1 | S2G.2 | Tape buy-sell imbalance at T-1 |
| 106 | tape_imbalance_t2 | S2G.2 | Tape buy-sell imbalance at T-2 |
| 107 | tape_imbalance_t3 | S2G.2 | Tape buy-sell imbalance at T-3 |
| 108 | tape_imbalance_t4 | S2G.2 | Tape buy-sell imbalance at T-4 |
| 109 | tape_velocity_t0 | S2G.2 | Tape trade velocity at T-0 |
| 110 | tape_velocity_t1 | S2G.2 | Tape trade velocity at T-1 |
| 111 | tape_velocity_t2 | S2G.2 | Tape trade velocity at T-2 |
| 112 | tape_velocity_t3 | S2G.2 | Tape trade velocity at T-3 |
| 113 | tape_velocity_t4 | S2G.2 | Tape trade velocity at T-4 |
| 114 | ofi_60s_t0 | S2G.2 | 60s OFI at T-0 |
| 115 | ofi_60s_t1 | S2G.2 | 60s OFI at T-1 |
| 116 | ofi_60s_t2 | S2G.2 | 60s OFI at T-2 |
| 117 | ofi_60s_t3 | S2G.2 | 60s OFI at T-3 |
| 118 | ofi_60s_t4 | S2G.2 | 60s OFI at T-4 |
| 119 | barrier_delta_liq_log_t0 | S2G.2 | Log-transformed barrier liquidity delta at T-0 |
| 120 | barrier_delta_liq_log_t1 | S2G.2 | Log-transformed barrier liquidity delta at T-1 |
| 121 | barrier_delta_liq_log_t2 | S2G.2 | Log-transformed barrier liquidity delta at T-2 |
| 122 | barrier_delta_liq_log_t3 | S2G.2 | Log-transformed barrier liquidity delta at T-3 |
| 123 | barrier_delta_liq_log_t4 | S2G.2 | Log-transformed barrier liquidity delta at T-4 |
| 124 | wall_ratio_log_t0 | S2G.2 | Log-transformed wall ratio at T-0 |
| 125 | wall_ratio_log_t1 | S2G.2 | Log-transformed wall ratio at T-1 |
| 126 | wall_ratio_log_t2 | S2G.2 | Log-transformed wall ratio at T-2 |
| 127 | wall_ratio_log_t3 | S2G.2 | Log-transformed wall ratio at T-3 |
| 128 | wall_ratio_log_t4 | S2G.2 | Log-transformed wall ratio at T-4 |
| 129 | gamma_exposure_t0 | S2G.2 | Gamma exposure at T-0 |
| 130 | gamma_exposure_t1 | S2G.2 | Gamma exposure at T-1 |
| 131 | gamma_exposure_t2 | S2G.2 | Gamma exposure at T-2 |
| 132 | gamma_exposure_t3 | S2G.2 | Gamma exposure at T-3 |
| 133 | gamma_exposure_t4 | S2G.2 | Gamma exposure at T-4 |

---

## Section D: Derived Physics (13 dimensions)

**Purpose**: "How 'heavy' is the move?" - Force/Mass ratios + Market Tide  
**Pipeline**: `bronze_to_silver` (stages 7, 13)  
**Layer**: Silver features → copied to Gold episode vectors

| Index | Feature | Pipeline.Stage | Description |
|-------|---------|-------|-------------|
| 134 | predicted_accel | B2S.13 | Predicted acceleration from F=ma proxy |
| 135 | accel_residual | B2S.13 | Actual - predicted acceleration residual |
| 136 | force_mass_ratio | B2S.13 | Ratio of Order Flow (force) to Limit Book (mass) |
| 137 | mass_proxy | B2S.13 | Barrier depth proxy for inertia |
| 138 | force_proxy | B2S.13 | OFI proxy for momentum force |
| 139 | barrier_state_encoded | B2S.7 | Barrier state: STRONG_SUPPORT=2, WEAK_SUPPORT=1, NEUTRAL=0, WEAK_RESISTANCE=-1, STRONG_RESISTANCE=-2 |
| 140 | barrier_replenishment_ratio | B2S.7 | Barrier replenishment rate |
| 141 | sweep_detected | B2S.7 | Sweep detection flag (0/1) |
| 142 | tape_log_ratio | B2S.13 | Log(buy_vol / sell_vol) |
| 143 | tape_log_total | B2S.13 | Log(buy_vol + sell_vol) |
| 144 | flow_alignment | B2S.13 | OFI aligned with approach direction (OFI × approach_sign) |
| 145 | call_tide | B2S.7 | Market Tide: Net premium flow into Calls |
| 146 | put_tide | B2S.7 | Market Tide: Net premium flow into Puts |

---

## Section E: Online Trends (4 dimensions)

**Purpose**: "Is pressure building?" - Rolling trend slopes within touch cluster  
**Pipeline**: `bronze_to_silver` (stage 14: ComputeApproachFeatures)  
**Layer**: Silver features → copied to Gold episode vectors

| Index | Feature | Pipeline.Stage | Description |
|-------|---------|-------|-------------|
| 147 | barrier_replenishment_trend | B2S.14 | Trend in barrier replenishment ratio within cluster |
| 148 | barrier_delta_liq_trend | B2S.14 | Trend in barrier liquidity delta within cluster |
| 149 | tape_velocity_trend | B2S.14 | Trend in tape velocity within cluster |
| 150 | tape_imbalance_trend | B2S.14 | Trend in tape imbalance within cluster |

---

## Section F: Trajectory Basis (32 dimensions)

**Purpose**: "What does the path look like?" - DCT frequency encoding of 20-min trajectory  
**THIS IS THE MOST ROBUST SIGNAL** (Phase 4: 71.8% accuracy, ECE 2.40%)  
**Pipeline**: `silver_to_gold` (stage 2: ConstructEpisodes)  
**Layer**: Gold only - DCT transform on 40-bar trajectory window (30s cadence = 20 minutes)  
**Note**: These features DO NOT exist in Silver - they are computed during episode construction

| Index | Feature | Pipeline.Stage | Description |
|-------|---------|-------|-------------|
| 151 | dct_d_atr_c0 | S2G.2 | DCT coefficient 0 of distance trajectory (DC component) |
| 152 | dct_d_atr_c1 | S2G.2 | DCT coefficient 1 of distance trajectory |
| 153 | dct_d_atr_c2 | S2G.2 | DCT coefficient 2 of distance trajectory |
| 154 | dct_d_atr_c3 | S2G.2 | DCT coefficient 3 of distance trajectory |
| 155 | dct_d_atr_c4 | S2G.2 | DCT coefficient 4 of distance trajectory |
| 156 | dct_d_atr_c5 | S2G.2 | DCT coefficient 5 of distance trajectory |
| 157 | dct_d_atr_c6 | S2G.2 | DCT coefficient 6 of distance trajectory |
| 158 | dct_d_atr_c7 | S2G.2 | DCT coefficient 7 of distance trajectory |
| 159 | dct_ofi_60s_c0 | S2G.2 | DCT coefficient 0 of OFI trajectory |
| 160 | dct_ofi_60s_c1 | S2G.2 | DCT coefficient 1 of OFI trajectory |
| 161 | dct_ofi_60s_c2 | S2G.2 | DCT coefficient 2 of OFI trajectory |
| 162 | dct_ofi_60s_c3 | S2G.2 | DCT coefficient 3 of OFI trajectory |
| 163 | dct_ofi_60s_c4 | S2G.2 | DCT coefficient 4 of OFI trajectory |
| 164 | dct_ofi_60s_c5 | S2G.2 | DCT coefficient 5 of OFI trajectory |
| 165 | dct_ofi_60s_c6 | S2G.2 | DCT coefficient 6 of OFI trajectory |
| 166 | dct_ofi_60s_c7 | S2G.2 | DCT coefficient 7 of OFI trajectory |
| 167 | dct_barrier_delta_liq_log_c0 | S2G.2 | DCT coefficient 0 of barrier liquidity trajectory |
| 168 | dct_barrier_delta_liq_log_c1 | S2G.2 | DCT coefficient 1 of barrier liquidity trajectory |
| 169 | dct_barrier_delta_liq_log_c2 | S2G.2 | DCT coefficient 2 of barrier liquidity trajectory |
| 170 | dct_barrier_delta_liq_log_c3 | S2G.2 | DCT coefficient 3 of barrier liquidity trajectory |
| 171 | dct_barrier_delta_liq_log_c4 | S2G.2 | DCT coefficient 4 of barrier liquidity trajectory |
| 172 | dct_barrier_delta_liq_log_c5 | S2G.2 | DCT coefficient 5 of barrier liquidity trajectory |
| 173 | dct_barrier_delta_liq_log_c6 | S2G.2 | DCT coefficient 6 of barrier liquidity trajectory |
| 174 | dct_barrier_delta_liq_log_c7 | S2G.2 | DCT coefficient 7 of barrier liquidity trajectory |
| 175 | dct_tape_imbalance_c0 | S2G.2 | DCT coefficient 0 of tape imbalance trajectory |
| 176 | dct_tape_imbalance_c1 | S2G.2 | DCT coefficient 1 of tape imbalance trajectory |
| 177 | dct_tape_imbalance_c2 | S2G.2 | DCT coefficient 2 of tape imbalance trajectory |
| 178 | dct_tape_imbalance_c3 | S2G.2 | DCT coefficient 3 of tape imbalance trajectory |
| 179 | dct_tape_imbalance_c4 | S2G.2 | DCT coefficient 4 of tape imbalance trajectory |
| 180 | dct_tape_imbalance_c5 | S2G.2 | DCT coefficient 5 of tape imbalance trajectory |
| 181 | dct_tape_imbalance_c6 | S2G.2 | DCT coefficient 6 of tape imbalance trajectory |
| 182 | dct_tape_imbalance_c7 | S2G.2 | DCT coefficient 7 of tape imbalance trajectory |

---

## Compression for FAISS Storage

**Source of Truth**: 197-dim vectors stored in `gold/episodes/es_level_episodes/vectors/date=YYYY-MM-DD/episodes.npy`

**FAISS Storage**: 32D compressed vectors (Geometry Only - Section F indices 151-182)

**Compression Strategy**: `geometry_only` per Phase 4 calibration breakthrough

**Compressor Location**: `gold/indices/es_level_indices/compressor.pkl`

---

## Retrieval Architecture

**Partitioning**: 60 FAISS indices
- 6 levels (PM_HIGH, PM_LOW, OR_HIGH, OR_LOW, SMA_90, EMA_20)
- × 2 directions (UP = approaching from below, DOWN = approaching from above)
- × 5 time buckets (market session progression)

**Metadata (Not in Vector)**:
- `level_kind`: Which of the 6 levels (partition key)
- `direction`: UP or DOWN (partition key)
- `time_bucket`: Session timing (partition key)
- `outcome`: BREAK/REJECT/CHOP (label, never in features)

**Within-Partition Similarity**: Episode vectors are level-agnostic. The 197-dim vector captures market structure dynamics relative to "the level being tested" without encoding which specific level it is (that's the partition key).

**Cross-Level Context**: Section A (indices 23-70) captures what's happening at ALL 6 levels simultaneously - touch counts, defended counts, and temporal recency from both directions. This enables queries like "find setups where PM_HIGH was tested 3x from below while OR_LOW was defended 5x from above."

**Outcome Labels (Fixed-Point Thresholds)**:
- **BREAK**: Price trades through level to far side by MONITOR_BAND (5.0 points) within 8 minutes
- **REJECT**: Price moves away on near side by MONITOR_BAND before achieving BREAK
- **CHOP**: Neither BREAK nor REJECT within 8 minutes
- All thresholds use fixed points, not ATR-normalized, for stable cross-day comparison
