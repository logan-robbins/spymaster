2025-12-28 23:01:53,773 - INFO - Starting Stage 2 validation for 2025-12-16
2025-12-28 23:01:53,773 - INFO - Log file: /Users/loganrobbins/research/qmachina/spymaster/backend/logs/validate_stage_02_2025-12-16.log
2025-12-28 23:01:53,773 - INFO - Running through BuildOHLCV (2min) stage...
2025-12-28 23:01:53,773 - [2.0.0] Starting pipeline: es_pipeline
2025-12-28 23:01:53,773 - [2.0.0] Date: 2025-12-16
2025-12-28 23:01:53,773 - [2.0.0] Stages: 16
2025-12-28 23:01:53,773 - [2.0.0] Checkpointing enabled: data/checkpoints
2025-12-28 23:01:53,773 - [2.0.0] Resuming from stage 2
2025-12-28 23:01:53,773 - Loading checkpoint from stage 1: build_ohlcv_1min
2025-12-28 23:01:54,690 - [2.0.0] Will stop after stage 2
2025-12-28 23:01:54,690 - [2.0.0] (3/16) Running: build_ohlcv_2min
2025-12-28 23:01:54,802 -     Warmup: loading 3 dates: ['2025-12-11', '2025-12-12', '2025-12-15']
2025-12-28 23:01:56,176 -     Warmup: loaded 690 bars from 2025-12-11
2025-12-28 23:01:57,535 -     Warmup: loaded 660 bars from 2025-12-12
2025-12-28 23:01:58,128 -     Warmup: loaded 690 bars from 2025-12-15
2025-12-28 23:01:58,128 -     Warmup: 2040 total warmup bars
2025-12-28 23:01:58,128 -     Warmup: final 2min OHLCV has 2730 bars
2025-12-28 23:01:58,154 - [2.0.0]   Completed in 3.46s
2025-12-28 23:01:59,385 - [2.0.0] No 'signals' in context, returning empty DataFrame
2025-12-28 23:01:59,464 - Loading checkpoint from stage 2: build_ohlcv_2min
2025-12-28 23:02:00,271 - ================================================================================
2025-12-28 23:02:00,271 - Validating Stage 2: BuildOHLCV (2min with warmup) for 2025-12-16
2025-12-28 23:02:00,271 - ================================================================================
2025-12-28 23:02:00,271 - 
1. Checking required outputs...
2025-12-28 23:02:00,271 -   ✅ Previous outputs preserved
2025-12-28 23:02:00,271 -   ✅ New output present: ohlcv_2min
2025-12-28 23:02:00,271 -   ✅ Warmup dates: ['2025-12-11', '2025-12-12', '2025-12-15']
2025-12-28 23:02:00,271 - 
2. Validating 2min OHLCV DataFrame...
2025-12-28 23:02:00,271 -   Bar count: 2,730
2025-12-28 23:02:00,271 -   ✅ Schema valid
2025-12-28 23:02:00,271 -   ✅ DatetimeIndex
2025-12-28 23:02:00,271 -   ✅ Index monotonic
2025-12-28 23:02:00,271 -   Time range: 2025-12-11 00:00:00+00:00 to 2025-12-16 23:58:00+00:00
2025-12-28 23:02:00,271 -   Date span: 2025-12-11 to 2025-12-16
2025-12-28 23:02:00,271 -   ✅ Warmup included: 5 days before 2025-12-16
2025-12-28 23:02:00,271 -   ✅ Sufficient warmup for SMA_400
2025-12-28 23:02:00,271 -   ⚠️  Low bar count: 2730 (expected ~4140)
2025-12-28 23:02:00,271 - 
  Checking OHLC logical consistency...
2025-12-28 23:02:00,271 -     ✅ OHLC relationships valid
2025-12-28 23:02:00,271 - 
  Price statistics:
2025-12-28 23:02:00,271 -     Open:  min=6809.25, max=6930.75
2025-12-28 23:02:00,271 -     High:  min=6810.00, max=6932.25
2025-12-28 23:02:00,271 -     Low:   min=6805.00, max=6929.50
2025-12-28 23:02:00,271 -     Close: min=6809.25, max=6930.75
2025-12-28 23:02:00,271 - 
  Volume statistics:
2025-12-28 23:02:00,272 -     Total: 5,939,266
2025-12-28 23:02:00,272 -     Mean: 2176
2025-12-28 23:02:00,272 -     Median: 426
2025-12-28 23:02:00,272 -     ✅ All bars have volume
2025-12-28 23:02:00,272 -   ✅ No NaN values
2025-12-28 23:02:00,272 - 
  Comparing with 1min bars...
2025-12-28 23:02:00,272 -     1min bars (date only): 1380
2025-12-28 23:02:00,272 -     2min bars (date only): 690
2025-12-28 23:02:00,272 -     ✅ 2min bars ≈ 1min bars / 2
2025-12-28 23:02:00,273 -     ✅ 2min aggregation consistent with 1min
2025-12-28 23:02:00,273 - 
================================================================================
2025-12-28 23:02:00,273 - ✅ Stage 2 Validation: PASSED
2025-12-28 23:02:00,273 - Warnings: 1
2025-12-28 23:02:00,273 -   - Low bar count: 2730 (expected ~4140)
2025-12-28 23:02:00,273 - ================================================================================

2025-12-28 23:02:00,273 - Results saved to: /Users/loganrobbins/research/qmachina/spymaster/backend/logs/validate_stage_02_2025-12-16_results.json
