2025-12-29 16:02:42,373 - [3.0.0] Starting pipeline: es_pipeline
2025-12-29 16:02:42,373 - [3.0.0] Date: 2025-12-16
2025-12-29 16:02:42,373 - [3.0.0] Stages: 18
2025-12-29 16:02:42,373 - [3.0.0] Checkpointing enabled: data/checkpoints
2025-12-29 16:02:42,373 - [3.0.0] Resuming from stage 16
2025-12-29 16:02:42,373 - Loading checkpoint from stage 15: filter_rth
2025-12-29 16:02:43,782 - [3.0.0] Will stop after stage 16
2025-12-29 16:02:43,782 - [3.0.0] (17/18) Running: materialize_state_table
2025-12-29 16:02:43,782 - [3.0.0] Stage 'materialize_state_table' failed: Stage 'materialize_state_table' missing required inputs: ['date']. Available: ['trades', 'trades_df', 'mbp10_snapshots', 'option_trades_df', 'ohlcv_1min', 'atr', 'volatility', 'ohlcv_2min', 'warmup_dates', 'market_state', 'spot_price', 'level_info', 'static_level_info', 'dynamic_levels', 'touches_df', 'signals_df', 'signals']
Traceback (most recent call last):
  File "/Users/loganrobbins/research/qmachina/spymaster/backend/scripts/run_pipeline_incremental.py", line 223, in main
    signals_df = pipeline.run(
                 ^^^^^^^^^^^^^
  File "/Users/loganrobbins/research/qmachina/spymaster/backend/src/pipeline/core/pipeline.py", line 141, in run
    ctx = stage.run(ctx)
          ^^^^^^^^^^^^^^
  File "/Users/loganrobbins/research/qmachina/spymaster/backend/src/pipeline/core/stage.py", line 60, in run
    raise ValueError(
ValueError: Stage 'materialize_state_table' missing required inputs: ['date']. Available: ['trades', 'trades_df', 'mbp10_snapshots', 'option_trades_df', 'ohlcv_1min', 'atr', 'volatility', 'ohlcv_2min', 'warmup_dates', 'market_state', 'spot_price', 'level_info', 'static_level_info', 'dynamic_levels', 'touches_df', 'signals_df', 'signals']
Running ES pipeline for 2025-12-16
Checkpoints: data/checkpoints
Resuming from stage: 16
Stopping at stage: 16


Pipeline failed: Stage 'materialize_state_table' missing required inputs: ['date']. Available: ['trades', 'trades_df', 'mbp10_snapshots', 'option_trades_df', 'ohlcv_1min', 'atr', 'volatility', 'ohlcv_2min', 'warmup_dates', 'market_state', 'spot_price', 'level_info', 'static_level_info', 'dynamic_levels', 'touches_df', 'signals_df', 'signals']
