2025-12-28 23:18:39,634 - INFO - Starting Stage 4 validation for 2025-12-16
2025-12-28 23:18:39,634 - INFO - Log file: /Users/loganrobbins/research/qmachina/spymaster/backend/logs/validate_stage_04_2025-12-16.log
2025-12-28 23:18:39,634 - INFO - Running through GenerateLevels stage...
2025-12-28 23:18:39,634 - [2.0.0] Starting pipeline: es_pipeline
2025-12-28 23:18:39,634 - [2.0.0] Date: 2025-12-16
2025-12-28 23:18:39,634 - [2.0.0] Stages: 16
2025-12-28 23:18:39,634 - [2.0.0] Checkpointing enabled: data/checkpoints
2025-12-28 23:18:39,634 - [2.0.0] Resuming from stage 4
2025-12-28 23:18:39,634 - Loading checkpoint from stage 3: init_market_state
2025-12-28 23:18:41,116 - [2.0.0] Will stop after stage 4
2025-12-28 23:18:41,116 - [2.0.0] (5/16) Running: generate_levels
2025-12-28 23:18:41,149 - [2.0.0]   Completed in 0.03s
2025-12-28 23:18:43,327 - [2.0.0] No 'signals' in context, returning empty DataFrame
2025-12-28 23:18:43,488 - Loading checkpoint from stage 4: generate_levels
2025-12-28 23:18:45,192 - ================================================================================
2025-12-28 23:18:45,192 - Validating Stage 4: GenerateLevels for 2025-12-16
2025-12-28 23:18:45,192 - ================================================================================
2025-12-28 23:18:45,192 - 
1. Checking required outputs...
2025-12-28 23:18:45,192 -   ✅ New outputs present: level_info, static_level_info, dynamic_levels
2025-12-28 23:18:45,192 - 
2. Validating Level Universe...
2025-12-28 23:18:45,192 -   Total levels: 6
2025-12-28 23:18:45,192 -   Level kinds: ['PM_HIGH', 'PM_LOW', 'OR_HIGH', 'OR_LOW', 'SMA_200', 'SMA_400']
2025-12-28 23:18:45,192 -   ✅ All 6 level kinds present
2025-12-28 23:18:45,192 - 
  Level values:
2025-12-28 23:18:45,192 -     PM_HIGH     :  6892.00
2025-12-28 23:18:45,192 -     PM_LOW      :  6846.75
2025-12-28 23:18:45,192 -     OR_HIGH     :  6874.50
2025-12-28 23:18:45,192 -     OR_LOW      :  6850.75
2025-12-28 23:18:45,192 -     SMA_200     :  6845.70
2025-12-28 23:18:45,192 -     SMA_400     :  6855.21
2025-12-28 23:18:45,192 -   ✅ PM_HIGH > PM_LOW (spread: 45.25 points)
2025-12-28 23:18:45,192 -   ✅ OR_HIGH > OR_LOW (spread: 23.75 points)
2025-12-28 23:18:45,192 -   ✅ SMA_200 within reasonable range
2025-12-28 23:18:45,192 -   ✅ SMA_400 within reasonable range
2025-12-28 23:18:45,192 - 
3. Validating Static Level Info...
2025-12-28 23:18:45,192 -   Static levels: 0
2025-12-28 23:18:45,192 -   ℹ️  No static levels (all levels are dynamic)
2025-12-28 23:18:45,192 - 
4. Validating Dynamic Levels Series...
2025-12-28 23:18:45,192 -   Dynamic level series: ['PM_HIGH', 'PM_LOW', 'OR_HIGH', 'OR_LOW', 'SESSION_HIGH', 'SESSION_LOW', 'VWAP', 'SMA_200', 'SMA_400', 'CALL_WALL', 'PUT_WALL']
2025-12-28 23:18:45,192 -   ✅ All expected series present
2025-12-28 23:18:45,192 -   ✅ PM_HIGH: 1380 values
2025-12-28 23:18:45,192 -   ✅ PM_LOW: 1380 values
2025-12-28 23:18:45,192 -   ✅ OR_HIGH: 1380 values
2025-12-28 23:18:45,192 -   ✅ OR_LOW: 1380 values
2025-12-28 23:18:45,192 -   ✅ SESSION_HIGH: 1380 values
2025-12-28 23:18:45,192 -   ✅ SESSION_LOW: 1380 values
2025-12-28 23:18:45,192 -   ✅ VWAP: 1380 values
2025-12-28 23:18:45,192 -   ✅ SMA_200: 1380 values
2025-12-28 23:18:45,192 -   ✅ SMA_400: 1380 values
2025-12-28 23:18:45,192 -   ✅ CALL_WALL: 1380 values
2025-12-28 23:18:45,192 -   ✅ PUT_WALL: 1380 values
2025-12-28 23:18:45,192 - 
================================================================================
2025-12-28 23:18:45,192 - ✅ Stage 4 Validation: PASSED
2025-12-28 23:18:45,192 - ================================================================================

2025-12-28 23:18:45,193 - Results saved to: /Users/loganrobbins/research/qmachina/spymaster/backend/logs/validate_stage_04_2025-12-16_results.json
