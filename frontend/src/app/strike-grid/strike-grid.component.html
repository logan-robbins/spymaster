<div class="p-4">
  <div class="overflow-x-auto bg-gray-900 rounded-lg shadow-2xl border border-gray-800">
    <table class="w-full text-sm text-center">
      <thead class="bg-gray-800 text-gray-400 uppercase font-black text-xs tracking-wider">
        <tr>
          <th colspan="3" class="px-2 py-3 border-b border-gray-700 text-green-500">CALLS</th>
          <th class="px-4 py-3 border-b border-gray-700 text-white bg-gray-700">STRIKE</th>
          <th colspan="3" class="px-2 py-3 border-b border-gray-700 text-red-500">PUTS</th>
        </tr>
        <tr>
          <!-- Calls -->
          <th class="px-2 py-1 text-xs">Vol</th>
          <th class="px-2 py-1 text-xs">Prem</th>
          <th class="px-2 py-1 text-xs">Δ Flow</th>
          
          <!-- Strike -->
          <th class="px-2 py-1 bg-gray-700"></th>
          
          <!-- Puts -->
          <th class="px-2 py-1 text-xs">Vol</th>
          <th class="px-2 py-1 text-xs">Prem</th>
          <th class="px-2 py-1 text-xs">Δ Flow</th>
        </tr>
      </thead>
      <tbody class="divide-y divide-gray-800">
        @for (row of rows(); track row.strike) {
          <tr class="hover:bg-gray-800/50 transition-colors duration-75">
            
            <!-- CALL SIDE -->
            <td class="px-2 py-2 font-mono" [class.text-gray-600]="!row.call?.cumulative_volume">
              {{ row.call?.cumulative_volume | number }}
            </td>
            <td class="px-2 py-2 font-mono text-blue-300">
              {{ row.call?.cumulative_premium | currency:'USD':'symbol':'1.0-0' }}
            </td>
            <td class="px-2 py-2 font-mono font-bold" [ngClass]="getDeltaColor(row.call?.net_delta_flow)">
              {{ row.call?.net_delta_flow | number:'1.0-0' }}
            </td>

            <!-- STRIKE -->
            <td class="px-4 py-2 font-black text-white bg-gray-700/50 border-x border-gray-700">
              {{ row.strike }}
            </td>

            <!-- PUT SIDE -->
            <td class="px-2 py-2 font-mono" [class.text-gray-600]="!row.put?.cumulative_volume">
              {{ row.put?.cumulative_volume | number }}
            </td>
            <td class="px-2 py-2 font-mono text-blue-300">
              {{ row.put?.cumulative_premium | currency:'USD':'symbol':'1.0-0' }}
            </td>
            <td class="px-2 py-2 font-mono font-bold" [ngClass]="getDeltaColor(row.put?.net_delta_flow)">
              {{ row.put?.net_delta_flow | number:'1.0-0' }}
            </td>
            
          </tr>
        }
      </tbody>
    </table>
  </div>
</div>
